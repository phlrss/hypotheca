(this.webpackJsonphypotheca=this.webpackJsonphypotheca||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a(14)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),o=a.n(l),m=(a(11),a(12),a(2)),s=(a(13),function(){return r.a.createElement("div",{className:"w-screen h-16 bg-green-600 text-white flex items-center p-4 shadow"},r.a.createElement("span",{className:"text-lg font-bold uppercase"},"Hypotheca.io"))}),u=a(1),c=a(5),i=a.n(c),p=function(e){return(Math.round(100*e)/100).toFixed(2)},d=function(e,t,a,n,r){if(n||(n=0),r||(r=0),0==e)return-(a+n)/t;var l=Math.pow(1+e,t),o=e/(l-1)*-(a*l+n);return 1==r&&(o/=1+e),o},b={mortgageAmount:"",interestRate:"",amortization:"",lumpSum:!1,lumpSumAmount:"",startDate:"",stepNum:0,error:!1,errorMessage:""},g={0:"mortgageAmount",1:"interestRate",2:"amortization",3:"lumpSum",4:"lumpSumAmount",5:"startDate"},N=function(e,t){switch(t.type){case"UPDATE_MORTGAGE":return Object(u.a)({},e,{mortgageAmount:t.mortgage,error:!1});case"UPDATE_INTEREST":return Object(u.a)({},e,{interestRate:t.interest,error:!1});case"UPDATE_AMORTIZATION":return Object(u.a)({},e,{amortization:t.amortization,error:!1});case"UPDATE_LUMP_SUM":return Object(u.a)({},e,{lumpSum:[!0,"true"].includes(t.lumpSum),error:!1});case"UPDATE_LUMP_AMOUNT":return Object(u.a)({},e,{lumpSumAmount:t.lumpSumAmount,error:!1});case"ERROR_STATE":return Object(u.a)({},e,{error:!0,errorMessage:t.message});case"PREV_STEP":var a=e.stepNum-1;return 5!==e.stepNum||e.lumpSum?0===e.stepNum&&(a=e.stepNum):a=3,Object(u.a)({},e,{stepNum:a,error:!1});case"NEXT_STEP":var n=e.stepNum+1;return 3!==e.stepNum||e.lumpSum?4===e.stepNum&&(n=e.stepNum):n=5,Object(u.a)({},e,{stepNum:n});default:throw new Error}},h=function(e){var t=e.setResultsTable,a=Object(n.useReducer)(N,b),l=Object(m.a)(a,2),o=l[0],s=l[1];return r.a.createElement("div",{className:"flex flex-col w-full max-w-xl"},r.a.createElement("span",{className:"mt-5 mb-2 font-bold text-gray-700"},"Just answer a few simple questions:"),r.a.createElement("div",{className:"p-5 bg-white rounded flex flex-col shadow-md w-full"},0===o.stepNum&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{className:"block text-gray-600 text-sm font-bold mb-2"},"What is your mortgage amount?"),r.a.createElement("input",{required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",placeholder:"$200000",value:o.mortgageAmount,onChange:function(e){return s({type:"UPDATE_MORTGAGE",mortgage:e.target.value})}})),1===o.stepNum&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{className:"block text-gray-600 text-sm font-bold mb-2"},"What is your stated interest rate?"),r.a.createElement("input",{required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",placeholder:"2.25%",value:o.interestRate,onChange:function(e){return s({type:"UPDATE_INTEREST",interest:e.target.value})}})),2===o.stepNum&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{className:"block text-gray-600 text-sm font-bold mb-2"},"What is your mortgage amortization term (in years)?"),r.a.createElement("input",{required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",placeholder:"25",value:o.amortization,onChange:function(e){return s({type:"UPDATE_AMORTIZATION",amortization:e.target.value})}})),3===o.stepNum&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{className:"block text-gray-600 text-sm font-bold mb-2"},"Will you be making additional lump-sum payments?"),r.a.createElement("div",null,r.a.createElement("label",{className:"text-gray-700 mr-5 font-bold inline-flex items-center"},"No",r.a.createElement("input",{id:"check-no",onChange:function(e){e.target.checked&&s({type:"UPDATE_LUMP_SUM",lumpSum:e.target.value})},value:"false",className:"ml-1",type:"radio",name:"lumpsum"})),r.a.createElement("label",{className:"text-gray-700 mr-5 font-bold inline-flex items-center"},"Yes",r.a.createElement("input",{id:"check-yes",onChange:function(e){e.target.checked&&s({type:"UPDATE_LUMP_SUM",lumpSum:e.target.value})},value:"true",className:"ml-1",type:"radio",name:"lumpsum"})))),4===o.stepNum&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{className:"block text-gray-600 text-sm font-bold mb-2"},"What is the additional lump-sum amount per regularly scheduled payment?"),r.a.createElement("input",{required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",placeholder:"$250",value:o.lumpSumAmount,onChange:function(e){return s({type:"UPDATE_LUMP_AMOUNT",lumpSumAmount:e.target.value})}})),o.error&&r.a.createElement("label",{className:"text-sm text-red-600 font-bold mb-3"},"*",o.errorMessage),r.a.createElement("div",{className:"w-full flex justify-between"},r.a.createElement("button",{disabled:0===o.stepNum,onClick:function(){return s({type:"PREV_STEP"})},className:i()("bg-gray-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",{"cursor-not-allowed opacity-50":0===o.stepNum})},"Previous"),4!==o.stepNum&&!(3===o.stepNum&&!o.lumpSum)&&r.a.createElement("button",{disabled:4===o.stepNum||3===o.stepNum&&!o.lumpSum||o.error,onClick:function(){return function(){var e=o[g[o.stepNum]];e||3===o.stepNum?parseInt(e)||3===o.stepNum?s({type:"NEXT_STEP"}):s({type:"ERROR_STATE",message:"Invalid symbols in field"}):s({type:"ERROR_STATE",message:"Value is required"})}()},className:"bg-green-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"},"Next"),(4===o.stepNum||3===o.stepNum&&!o.lumpSum)&&r.a.createElement("button",{onClick:function(){return t(function(e){var t=[],a=e.mortgageAmount,n=e.interestRate,r=e.amortization,l=e.lumpSumAmount,o=0;l&&(o=parseInt(l));for(var m=26*r,s=Math.pow(1+n/100/2,2/26)-1,u=0;u<m;u++){var c=0===u?parseInt(a):t[u-1].endingBalance,i=c*s,b=Math.min(-1*d(12*(Math.pow(n/100/2+1,1/6)-1)/26,m,a),c),g=b+o,N=Math.max(b-i+o,0),h=Math.max(c-N,0);if(c<=0)break;t.push({openingBalance:p(c),schedPMT:p(b),lumpSumAmount:p(l),totalPMT:p(g),principal:p(N),interest:p(i),endingBalance:p(h)})}return t}(o))},className:"bg-green-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"},"Finish"))))},E=function(e){var t=e.resultsTable;return t?r.a.createElement("table",{className:"table-auto"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"bg-white"},r.a.createElement("th",{className:"px-4 py-2"},"Payment Number"),r.a.createElement("th",{className:"px-4 py-2"},"Opening Balance"),r.a.createElement("th",{className:"px-4 py-2"},"Scheduled PMT"),r.a.createElement("th",{className:"px-4 py-2"},"Lump Sum"),r.a.createElement("th",{className:"px-4 py-2"},"Total PMT"),r.a.createElement("th",{className:"px-4 py-2"},"Principal"),r.a.createElement("th",{className:"px-4 py-2"},"Interest"),r.a.createElement("th",{className:"px-4 py-2"},"Ending Balance"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t,className:(t+1)%2===0?"bg-white hover:bg-blue-100 transition-all":"bg-gray-100 hover:bg-blue-100 transition-all"},r.a.createElement("td",{className:"border px-4 py-2"},t+1),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.openingBalance).toLocaleString().split(".")[0]),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.schedPMT).toLocaleString().split(".")[0]),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.lumpSumAmount).toLocaleString().split(".")[0]),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.totalPMT).toLocaleString().split(".")[0]),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.principal).toLocaleString().split(".")[0]),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.interest).toLocaleString().split(".")[0]),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.endingBalance).toLocaleString().split(".")[0]))})))):null};var f=function(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",{className:"flex flex-col"},r.a.createElement(s,null),r.a.createElement("div",{className:"flex items-center justify-center"},!a&&r.a.createElement(h,{setResultsTable:l}),a&&r.a.createElement(E,{resultsTable:a})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.af586d21.chunk.js.map
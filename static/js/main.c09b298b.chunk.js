(this.webpackJsonphypotheca=this.webpackJsonphypotheca||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(16)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),o=a.n(l),s=(a(12),a(13),a(2)),m=(a(14),function(){return r.a.createElement("div",{className:"w-screen h-16 bg-green-600 text-white flex items-center p-4 shadow"},r.a.createElement("span",{className:"text-lg font-bold uppercase"},"Hypotheca.io"))}),u=a(1),c=a(6),i=a.n(c),p=a(3),d=a.n(p),b=function(e){return(Math.round(100*e)/100).toFixed(2)},g=function(e,t,a,n,r){if(n||(n=0),r||(r=0),0==e)return-(a+n)/t;var l=Math.pow(1+e,t),o=e/(l-1)*-(a*l+n);return 1==r&&(o/=1+e),o},y={mortgageAmount:"",interestRate:"",amortization:"",frequency:"",lumpSum:!1,lumpSumAmount:"",startDate:"",stepNum:0,error:!1,errorMessage:""},E={0:"mortgageAmount",1:"interestRate",2:"amortization",3:"frequency",4:"lumpSum",5:"lumpSumAmount",6:"startDate"},h=function(e,t){switch(t.type){case"UPDATE_MORTGAGE":return Object(u.a)({},e,{mortgageAmount:t.mortgage,error:!1});case"UPDATE_INTEREST":return Object(u.a)({},e,{interestRate:t.interest,error:!1});case"UPDATE_AMORTIZATION":return Object(u.a)({},e,{amortization:t.amortization,error:!1});case"UPDATE_FREQUENCY":return Object(u.a)({},e,{frequency:t.frequency,error:!1});case"UPDATE_LUMP_SUM":return Object(u.a)({},e,{lumpSum:[!0,"true"].includes(t.lumpSum),error:!1});case"UPDATE_LUMP_AMOUNT":return Object(u.a)({},e,{lumpSumAmount:t.lumpSumAmount,error:!1});case"UPDATE_START_DATE":return Object(u.a)({},e,{startDate:t.date,error:!1});case"ERROR_STATE":return Object(u.a)({},e,{error:!0,errorMessage:t.message});case"PREV_STEP":var a=e.stepNum-1;return 6!==e.stepNum||e.lumpSum?0===e.stepNum&&(a=e.stepNum):a=4,Object(u.a)({},e,{stepNum:a,error:!1});case"NEXT_STEP":var n=e.stepNum+1;return 4!==e.stepNum||e.lumpSum?6===e.stepNum&&(n=e.stepNum):n=6,Object(u.a)({},e,{stepNum:n});default:throw new Error}},f=function(e){var t=e.setResultsTable,a=Object(n.useReducer)(h,y),l=Object(s.a)(a,2),o=l[0],m=l[1],u=function(){var e=o[E[o.stepNum]];e||[3,4].includes(o.stepNum)?parseInt(e)||[3,4].includes(o.stepNum)?m({type:"NEXT_STEP"}):m({type:"ERROR_STATE",message:"Invalid symbols in field"}):m({type:"ERROR_STATE",message:"Value is required"})};return r.a.createElement("div",{className:"flex flex-col w-full max-w-xl"},r.a.createElement("span",{className:"mt-5 mb-2 font-bold text-gray-700"},"Just answer a few simple questions:"),r.a.createElement("div",{className:"p-5 bg-white rounded flex flex-col shadow-md w-full"},0===o.stepNum&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{className:"block text-gray-600 text-sm font-bold mb-2"},"What is your mortgage amount?"),r.a.createElement("input",{required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",placeholder:"$200000",value:o.mortgageAmount,onChange:function(e){return m({type:"UPDATE_MORTGAGE",mortgage:e.target.value})},onKeyUp:function(e){return 13===e.keyCode?u():null}})),1===o.stepNum&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{className:"block text-gray-600 text-sm font-bold mb-2"},"What is your stated interest rate?"),r.a.createElement("input",{required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",placeholder:"2.25%",value:o.interestRate,onChange:function(e){return m({type:"UPDATE_INTEREST",interest:e.target.value})},onKeyUp:function(e){return 13===e.keyCode?u():null}})),2===o.stepNum&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{className:"block text-gray-600 text-sm font-bold mb-2"},"What is your mortgage amortization term (in years)?"),r.a.createElement("input",{required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",placeholder:"25",value:o.amortization,onChange:function(e){return m({type:"UPDATE_AMORTIZATION",amortization:e.target.value})},onKeyUp:function(e){return 13===e.keyCode?u():null}})),3===o.stepNum&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{className:"block text-gray-600 text-sm font-bold mb-2"},"How often will you be making payments?"),r.a.createElement("select",{onChange:function(e){return m({type:"UPDATE_FREQUENCY",frequency:e.target.value})},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"},r.a.createElement("option",{value:"monthly"},"Monthly"),r.a.createElement("option",{value:"biweekly"},"Bi-Weekly"),r.a.createElement("option",{value:"weekly"},"Weekly"))),4===o.stepNum&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{className:"block text-gray-600 text-sm font-bold mb-2"},"Will you be making additional lump-sum payments?"),r.a.createElement("div",null,r.a.createElement("label",{className:"text-gray-700 mr-5 font-bold inline-flex items-center"},"No",r.a.createElement("input",{id:"check-no",onChange:function(e){e.target.checked&&m({type:"UPDATE_LUMP_SUM",lumpSum:e.target.value})},value:"false",className:"ml-1",type:"radio",name:"lumpsum"})),r.a.createElement("label",{className:"text-gray-700 mr-5 font-bold inline-flex items-center"},"Yes",r.a.createElement("input",{id:"check-yes",onChange:function(e){e.target.checked&&m({type:"UPDATE_LUMP_SUM",lumpSum:e.target.value})},value:"true",className:"ml-1",type:"radio",name:"lumpsum"})))),5===o.stepNum&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{className:"block text-gray-600 text-sm font-bold mb-2"},"What is the additional lump-sum amount per regularly scheduled payment?"),r.a.createElement("input",{required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",placeholder:"$250",value:o.lumpSumAmount,onChange:function(e){return m({type:"UPDATE_LUMP_AMOUNT",lumpSumAmount:e.target.value})}})),6===o.stepNum&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{className:"block text-gray-600 text-sm font-bold mb-2"},"What is your mortgage start date?"),r.a.createElement("input",{required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",placeholder:"YYYY-MM-DD",value:o.startDate,onChange:function(e){return m({type:"UPDATE_START_DATE",date:e.target.value})},onKeyUp:function(e){return 13===e.keyCode?u():null}})),o.error&&r.a.createElement("label",{className:"text-sm text-red-600 font-bold mb-3"},"*",o.errorMessage),r.a.createElement("div",{className:"w-full flex justify-between"},r.a.createElement("button",{disabled:0===o.stepNum,onClick:function(){return m({type:"PREV_STEP"})},className:i()("bg-gray-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",{"cursor-not-allowed opacity-50":0===o.stepNum})},"Previous"),6!==o.stepNum&&r.a.createElement("button",{onClick:function(){return u()},className:"bg-green-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"},"Next"),6===o.stepNum&&r.a.createElement("button",{onClick:function(){return t(function(e){var t=[],a=e.mortgageAmount,n=e.interestRate,r=e.amortization,l=e.lumpSumAmount,o=e.frequency,s=e.startDate,m=0;l&&(m=parseInt(l)),console.log(d()(s).format("ll"));var u,c=12;switch(o){case"monthly":c=12,u={num:1,type:"months"};break;case"biweekly":c=26,u={num:14,type:"days"};break;case"weekly":c=52,u={num:7,type:"days"};break;default:c=12,u={num:1,type:"months"}}for(var i=r*c,p=Math.pow(1+n/100/2,2/c)-1,y=0;y<i;y++){var E=0===y?parseInt(a):t[y-1].endingBalance,h=0===y?d()(s).format("MMM DD YYYY"):d()(t[y-1].currentDate).add(u.num,u.type).format("MMM DD YYYY"),f=E*p,N=Math.min(-1*g(12*(Math.pow(n/100/2+1,1/6)-1)/c,i,a),E),x=N+m,w=Math.max(N-f+m,0),T=Math.max(E-w,0);if(console.log(h),E<=0)break;t.push({currentDate:h,openingBalance:b(E),schedPMT:b(N),lumpSumAmount:b(l),totalPMT:b(x),principal:b(w),interest:b(f),endingBalance:b(T)})}return t}(o))},className:"bg-green-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"},"Finish"))))},N=function(e){var t=e.resultsTable;return t?r.a.createElement("table",{className:"table-auto"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"bg-white"},r.a.createElement("th",{className:"px-4 py-2"},"Payment Number"),r.a.createElement("th",{className:"px-4 py-2"},"Date"),r.a.createElement("th",{className:"px-4 py-2"},"Opening Balance"),r.a.createElement("th",{className:"px-4 py-2"},"Scheduled PMT"),r.a.createElement("th",{className:"px-4 py-2"},"Lump Sum"),r.a.createElement("th",{className:"px-4 py-2"},"Total PMT"),r.a.createElement("th",{className:"px-4 py-2"},"Principal"),r.a.createElement("th",{className:"px-4 py-2"},"Interest"),r.a.createElement("th",{className:"px-4 py-2"},"Ending Balance"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t,className:(t+1)%2===0?"bg-white hover:bg-blue-100 transition-all":"bg-gray-100 hover:bg-blue-100 transition-all"},r.a.createElement("td",{className:"border px-4 py-2"},t+1),r.a.createElement("td",{className:"border px-4 py-2 text-right"},e.currentDate),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.openingBalance).toLocaleString().split(".")[0]),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.schedPMT).toLocaleString().split(".")[0]),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.lumpSumAmount).toLocaleString().split(".")[0]),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.totalPMT).toLocaleString().split(".")[0]),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.principal).toLocaleString().split(".")[0]),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.interest).toLocaleString().split(".")[0]),r.a.createElement("td",{className:"border px-4 py-2 text-right"},"$",Number(e.endingBalance).toLocaleString().split(".")[0]))})))):null};var x=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",{className:"flex flex-col"},r.a.createElement(m,null),r.a.createElement("div",{className:"flex items-center justify-center"},!a&&r.a.createElement(f,{setResultsTable:l}),a&&r.a.createElement(N,{resultsTable:a})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.c09b298b.chunk.js.map